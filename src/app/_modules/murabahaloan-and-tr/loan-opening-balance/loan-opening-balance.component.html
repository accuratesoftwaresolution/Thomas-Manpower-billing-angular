<div class="container" style="background-color: #d1e2f1 ; padding: 20px; border-radius: 8px;">

    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 style="color: #003366;">Loan Opening Balance

        </h3>
        <div class="p-grid" style="display: flex; gap: 10px;">

            <button pButton label="Add" class="custom-button"></button>
            <button pButton label="Edit" class="custom-button"></button>
            <button pButton label="Delete" class="custom-button"></button>
            <button pButton label="Previous" class="custom-button"></button>
            <button pButton label="Next" class="custom-button"></button>
            <button pButton label="List" class="custom-button"></button>
            <button pButton label="Print" class="custom-button"></button>
            <button pButton label="Suspended" class="custom-button"></button>
            <button pButton label="Authorize" class="custom-button"></button>
            <button pButton label="Reject" class="custom-button"></button>

        </div>
    </div>
    <div style="display: flex; justify-content: space-between;">
        <h6><a style="text-decoration: underline; color: blue;">Check</a></h6>
    </div>
    <div
        style="border: 1px solid #003366; padding: 15px; border-radius: 5px; background-color: #d1e2f1; font-size: 10px;display: flex;">

        <div class="p-col-7">

            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Voucher Type</label>
                        <input type="text" [(ngModel)]="selectedVocherType" pInputText
                            style="background-color: #ffffff; width: 25%; height: 2vh;">

                    </div>
                </div>
                <div class="p-col-5" style="padding: 0rem 0rem 0rem 0.5rem;">

                </div>
                <div class="p-col-1">

                </div>
            </div>

            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Opening Voucher Number</label>
                        <input type="text" [(ngModel)]="selectedVocherNumber" pInputText
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <button pButton (click)="ShowPopUp('VocherType')" icon="pi pi-ellipsis-h" class="custom-button"
                            style="margin-left:10px"></button>

                    </div>
                </div>
                <div class="p-col-5" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Date</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 25%; height: 2vh;">
                    </div>
                </div>
                <div class="p-col-1">

                </div>
            </div>


            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Narration Code</label>
                        <input type="text" [(ngModel)]="selectedNarrationCode" pInputText
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <button pButton (click)="ShowPopUp('NarrationCode')" icon="pi pi-ellipsis-h"
                            class="custom-button" style="margin-left:10px"></button>

                    </div>
                </div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Narration Name</label>
                        <input type="text" [(ngModel)]="selectedNarrationDescription" pInputText
                            style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>

            </div>

            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Currency Code</label>
                        <input type="text" [(ngModel)]="selectedCurrencyCode" pInputText
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <button pButton (click)="ShowPopUp('CurrencyCode')" icon="pi pi-ellipsis-h"
                            class="custom-button" style="margin-left:10px"></button>

                    </div>
                </div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Currency Name</label>
                        <input type="text" [(ngModel)]="selectedCurrencyName" pInputText
                            style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>

            </div>

            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;"></div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Conversion Rate</label>
                        <input type="text" [(ngModel)]="selectedConversionRate" pInputText
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                    </div>
                </div>
            </div>

            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Previous System Number</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 30%; height: 2vh;">
                    </div>
                </div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;"></div>
            </div>


            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Bill Number</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <!-- <button pButton (click)="ShowPopUp('CopyDocFromTemplateCode')" icon="pi pi-ellipsis-h"
                            class="custom-button" style="margin-left:10px"></button> -->

                    </div>
                </div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Bill date</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 30%; height: 2vh;">
                    </div>
                </div>

            </div>



            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Copy Doc From Template Code</label>
                        <input type="text" [(ngModel)]="selectedCopyDocFromTemplateCode" pInputText
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <button pButton (click)="ShowPopUp('CopyDocFromTemplateCode')" icon="pi pi-ellipsis-h"
                            class="custom-button" style="margin-left:10px"></button>

                    </div>
                </div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Copy Doc From Template Name</label>
                        <input type="text" [(ngModel)]="selectedCopyDocFromTemplateName" pInputText
                            style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>

            </div>

            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Terms and Conditions Code</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <!-- <button pButton (click)="ShowPopUp('CopyDocFromTemplateCode')" icon="pi pi-ellipsis-h"
                            class="custom-button" style="margin-left:10px"></button> -->

                    </div>
                </div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Terms and Conditions Name</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>

            </div>
            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Loan Module Code</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <!-- <button pButton (click)="ShowPopUp('CopyDocFromTemplateCode')" icon="pi pi-ellipsis-h"
                            class="custom-button" style="margin-left:10px"></button> -->

                    </div>
                </div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Loan Module Name</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>

            </div>

            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Inter Company Transaction Yes/No</label>
                        <input type="checkbox" value="High">
                    </div>
                </div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Inter Company Transaction Ref No</label>
                        <input type="text" [(ngModel)]="selectedCurrencyName" pInputText
                            style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>

            </div>

            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Text</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 70%; height: 2vh;">

                    </div>
                </div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                </div>
            </div>

            <div class="p-grid">
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;"></div>
                <div class="p-col-6" style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-grid">
                        <div class="p-col-10" style="text-align:right">
                            <button pButton label="Save" class="custom-button"></button>
                        </div>
                        <div class="p-col-2">
                            <button pButton label="Cancel" class="custom-button"></button>
                        </div>
                    </div>
                </div>
            </div>


        </div>

        <div class="p-col-5">
        </div>

    </div>


    <div
        style="border: 1px solid #003366; padding: 15px; border-radius: 5px; background-color: #d1e2f1; font-size: 10px;display: flex;">

        <div class="custom-tabs">

            <div class="tab-headers">
                <div class="tab-header" *ngFor="let tab of scrollableTabs; let i = index"
                    [class.active]="activeIndex === i" (click)="changeIndex(i)">
                    {{ tab.title }}
                </div>
            </div>

            <div class="tab-content" *ngIf="activeIndex || activeIndex == 0">

                <ng-container *ngIf="scrollableTabs[activeIndex] && activeIndex == 0">

                    <div style="margin-top: 5px; min-height: 34vh;" *ngIf="activeIndex==0 || activeIndex == 11">

                        <p-scrollPanel style="height: 400px;">
                            <p-table [value]="products" [scrollable]="true" scrollHeight="270px" scrollWidth="100%"
                                [resizableColumns]="true" [responsive]="true" [reorderableColumns]="true"
                                class="ProductInfoTable">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <ng-container *ngFor="let col of TableData">
                                            <th *ngIf="!col.hide"
                                                [ngStyle]="{'width':col.width, 'white-space': 'normal'}">
                                                <span>{{col.header}}</span>
                                            </th>
                                        </ng-container>
                                    </tr>
                                </ng-template>

                                <ng-template pTemplate="body" let-product>
                                    <tr>
                                        <ng-container *ngFor="let col of TableData">
                                            <td pEditableColumn style="padding: 0.5rem 0.5rem;" *ngIf="!col.hide"
                                                [ngStyle]="{'width':col.width}">

                                                <ng-container *ngIf="!col.PopUpData">
                                                    <input pInputText type="text" style="padding: 0;"
                                                        [ngClass]="{'manual-column': col.manual}"
                                                        [style]="{'width':'100%'}" [(ngModel)]="col.data"
                                                        (click)="toggle(0)">


                                                </ng-container>
                                                <ng-container *ngIf="col.PopUpData">
                                                    <input pInputText type="text" style="padding: 0;"
                                                        [ngClass]="{'manual-column': col.manual}"
                                                        [style]="{'width':'70%'}" [(ngModel)]="col.data"
                                                        (click)="toggle(0)">

                                                    <button *ngIf="col.PopUpData" pButton
                                                        (click)="ShowPopUp(col.PopUpData)" icon="pi pi-ellipsis-h"
                                                        class="custom-button"
                                                        style="position: absolute;padding: 0;"></button>
                                                </ng-container>

                                            </td>
                                        </ng-container>
                                    </tr>
                                </ng-template>

                            </p-table>
                        </p-scrollPanel>

                    </div>

                    <p-accordion>
                        <p-accordionTab [(selected)]="activeState[0]" header="Summary">
                            <p-table [value]="SummaryTable">
                                <ng-template pTemplate="body" let-rowData>
                                    <tr>
                                        <th style="text-align: right;">Debit Amount</th>
                                        <td>{{ rowData.debitAmount }}</td>
                                        <th style="text-align: right;">Credit Amount</th>
                                        <td>{{ rowData.creditAmount }}</td>

                                    </tr>

                                </ng-template>
                            </p-table>

                        </p-accordionTab>
                    </p-accordion>


                    <div
                        style="padding: 15px; border-radius: 5px; background-color: #d1e2f1; font-size: 10px;display: flex;">

                        <div class="p-col-4">


                            <div class="p-grid">
                                <div class="p-col-12" style="padding: 0rem 0rem 0rem 0.5rem;">
                                    <div class="p-field">
                                        <label style="display: inline-block; width: 30%;">ENBD Account</label>
                                        <input type="text" pInputText style="width: 30%; height: 2vh;">
                                    </div>
                                </div>
                            </div>

                            <div class="p-grid">
                                <div class="p-col-12" style="padding: 0rem 0rem 0rem 0.5rem;">
                                    <div class="p-field">
                                        <label style="display: inline-block; width: 30%;">Enbd Loan</label>
                                        <input type="text" pInputText style="width: 60%; height: 2vh;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </ng-container>



                <ng-container *ngIf="scrollableTabs[activeIndex] && activeIndex == 1">


                    <h4 style="color: #003366;">Document Attachment</h4>
                    <app-document-attachment></app-document-attachment>


                </ng-container>


                <ng-container *ngIf="scrollableTabs[activeIndex] && activeIndex == 6">
                </ng-container>

                <ng-container *ngIf="scrollableTabs[activeIndex] && activeIndex == 17">

                    <div style="margin-top: 5px; min-height: 34vh;">


                        <p-scrollPanel style="height: 400px;">
                            <p-table [value]="products" [scrollable]="true" scrollHeight="270px" scrollWidth="100%"
                                [resizableColumns]="true" [responsive]="true" [reorderableColumns]="true"
                                class="ProductInfoTable">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <ng-container *ngFor="let col of TaxTableData">
                                            <th *ngIf="!col.hide"
                                                [ngStyle]="{'width':col.width, 'white-space': 'normal'}">
                                                <span>{{col.header}}</span>
                                            </th>
                                        </ng-container>
                                    </tr>
                                </ng-template>

                                <ng-template pTemplate="body" let-product>
                                    <tr>
                                        <ng-container *ngFor="let col of TaxTableData">
                                            <td pEditableColumn style="padding: 0.5rem 0.5rem;" *ngIf="!col.hide"
                                                [ngStyle]="{'width':col.width}">

                                                <ng-container *ngIf="!col.PopUpData">
                                                    <input pInputText type="text" style="padding: 0;"
                                                        [ngClass]="{'manual-column': col.manual}"
                                                        [style]="{'width':'100%'}" [(ngModel)]="col.data"
                                                        (click)="toggle(0)">


                                                </ng-container>
                                                <ng-container *ngIf="col.PopUpData">
                                                    <input pInputText type="text" style="padding: 0;"
                                                        [ngClass]="{'manual-column': col.manual}"
                                                        [style]="{'width':'70%'}" [(ngModel)]="col.data"
                                                        (click)="toggle(0)">

                                                    <button *ngIf="col.PopUpData" pButton
                                                        (click)="ShowPopUp(col.PopUpData)" icon="pi pi-ellipsis-h"
                                                        class="custom-button"
                                                        style="position: absolute;padding: 0;"></button>
                                                </ng-container>




                                            </td>
                                        </ng-container>
                                    </tr>
                                </ng-template>

                            </p-table>
                        </p-scrollPanel>

                        <br>
                        <h4 style="color: #003366;">Tax Additional Entry</h4>


                        <p-table [value]="taxAdditionalEntryTable" style="width: 80% !important;" class="expense-table">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th style="width: 8rem;">Account Code</th>
                                    <th style="width: 12rem;">Account Name</th>
                                    <th style="width: 8rem;">Narration Code</th>
                                    <th style="width: 12rem;">Narration Name</th>
                                </tr>
                            </ng-template>

                            <ng-template pTemplate="body" let-rowData>
                                <tr>
                                    <td pEditableColumn style="text-align: left;">
                                        <input pInputText type="text"
                                            style="padding: 0; width: 80%; background-color: transparent;"
                                            [(ngModel)]="rowData.accountCode">
                                        <button pButton style="width: 20%; padding: 0;" icon="pi pi-ellipsis-h"
                                            (click)="ShowPopUp('AccountCode', rowData)" class="custom-button"></button>
                                    </td>

                                    <td pEditableColumn style="text-align: left;">
                                        <input pInputText type="text"
                                            style="padding: 0; width: 100%; background-color: transparent;"
                                            [(ngModel)]="rowData.accountName">
                                    </td>

                                    <td pEditableColumn style="text-align: left;">
                                        <input pInputText type="text"
                                            style="padding: 0; width: 80%; background-color: transparent;"
                                            [(ngModel)]="rowData.narrationCode">
                                        <button pButton style="width: 20%; padding: 0;" icon="pi pi-ellipsis-h"
                                            (click)="ShowPopUp('NarrationCode', rowData)"
                                            class="custom-button"></button>
                                    </td>

                                    <td pEditableColumn style="text-align: left;">
                                        <input pInputText type="text"
                                            style="padding: 0; width: 100%; background-color: transparent;"
                                            [(ngModel)]="rowData.narrationName">
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>

                    </div>


                </ng-container>

                <ng-container *ngIf="scrollableTabs[activeIndex] && activeIndex == 3">
                    <app-digilock></app-digilock>
                </ng-container>

            </div>
        </div>

    </div>
</div>





<p-dialog [modal]="true" [(visible)]="display" [style]="{width: '50vw'}">
    <p-table [value]="rights" responsiveLayout="scroll">
        <ng-template pTemplate="header">
            <tr>
                <th>Rights</th>
                <th>Rights Details</th>
                <!-- <th>Action</th> -->
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-right>
            <tr>
                <td>
                    <input type="checkbox" [(ngModel)]="right.hasRight" />
                </td>
                <td>{{ right.detail }}</td>
                <!-- <td>
                    <input type="checkbox" [(ngModel)]="right.hasAction" />
                </td> -->
            </tr>
        </ng-template>
    </p-table>
</p-dialog>

<p-dialog [modal]="true" [(visible)]="ShowLookUp" [closable]="false" [style]="{width: '50vw'}">
    <br>



    <div class="p-grid">
        <div class="p-col-5" style="padding: 0rem 0rem 0rem 0.5rem;">
            <div class="p-field">
                <label style="display: inline-block; width: 30%;">Search</label>
                <input type="text" pInputText style="background-color: #ffffff; width: 70%; height: 2vh;">

            </div>
        </div>
        <div class="p-col-3" style="padding: 0rem 0rem 0rem 0.5rem;"></div>

        <div class="p-col-4" style="padding: 0rem 0rem 0rem 0.5rem;">
            <div class="p-grid" style="display: flex; gap: 10px;">
                <button pButton label="Refresh" class="custom-button"></button>
                <button pButton label="Ok" class="custom-button"></button>
                <button pButton label="Cancel" (click)="ShowLookUp = false" class="custom-button"></button>
            </div>

        </div>
    </div>

    <div class="p-grid" style="background-color: #d1e2f1;">

        <div class="p-col-12" style="border: 1px solid #003366; border-radius: 5px;">


            <h6 style="
            background-color: #5c96d4;
            color: white;
            height: 4vh;
            align-items: center;
            display: flex;
            padding-left: 8px;">{{PopUpData?.name}}</h6>


            <p-table [value]="PopUpData.TableData">
                <ng-template pTemplate="header">
                    <tr>
                        <th [ngStyle]="{ 'width' : col?.width }" *ngFor="let col of PopUpData.columns">{{ col.header }}
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowData>
                    <tr (click)="chooseLookup(rowData)">
                        <td *ngFor="let col of PopUpData.columns">{{ rowData[col.field] }}</td>
                    </tr>
                </ng-template>
            </p-table>

        </div>
    </div>
</p-dialog>