<div style="display: flex; flex-wrap: wrap; align-items: center; gap: 10px;margin-bottom: 1rem;">
    <h3 style="color: #003366; margin: 0; min-width: 200px; display: flex; align-items: center; gap: 10px;">
        Customer Job Site Creation
        <a style="text-decoration: underline; color: blue; font-size: 12px;">Check</a>
        <!-- <button pButton label="Approval Status" (click)="showStatus = true" class="header-btn"></button> -->
    </h3>


    <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: flex-end; flex: 2; min-width: 300px;">
        <ng-container *ngFor="let btn of buttons">
            <button pButton [label]="btn.label" (click)="btn.action ? btn.action() : null" [disabled]="btn.disabled"
                class="header-btn" *ngIf="btn.visible">
            </button>
        </ng-container>
    </div>

</div>

<p-progressBar *ngIf="isSaving" [value]="progressValue" [showValue]="true" class="custom-progressbar">
</p-progressBar>
<div style="border: 1px solid #003366; padding: 6px; border-radius: 5px; background-color: #d1e2f1; font-size: 10px;">

    <br>
    <div class="p-grid">
        <!-- LEFT SECTION: Form Fields -->
        <div class="p-col-12 p-md-8">
            <!-- <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_Job_SysID']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Job SysID
                            <span *ngIf="fieldSettings['Allh_Job_SysID']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="number" [(ngModel)]="transactionhead.Allh_Job_SysID" pInputText
                            [readonly]="fieldSettings['Allh_Job_SysID']?.disabled"
                            [required]="fieldSettings['Allh_Job_SysID']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                    </div>
                </div>
            </div> -->

            <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_Job_Code']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%; " (click)="routeTo('/common/voucher-type')">Job
                            Code
                            <span *ngIf="fieldSettings['Allh_Job_Code']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_Job_Code" pInputText
                            [readonly]="fieldSettings['Allh_Job_Code']?.disabled"
                            [required]="fieldSettings['Allh_Job_Code']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <!-- <button *ngIf="!fieldSettings['Allh_Job_Code']?.disabled" pButton
                            (click)="ShowPopUp('VocherType')" icon="pi pi-ellipsis-h" class="custom-button"
                            style="margin-left:10px"></button> -->
                    </div>
                </div>

                <div *ngIf="!fieldSettings['Allh_Job_Name']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Job Name
                            <span *ngIf="fieldSettings['Allh_Job_Name']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_Job_Name" pInputText
                            [required]="fieldSettings['Allh_Job_Name']?.mandatory"
                            style="background-color: #ffffff; width: 50%; height: 30px;">
                    </div>
                </div>
            </div>



            <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_Site_Code']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%; "
                            (click)="routeTo('/common/voucher-type')">Customer Site
                            Code
                            <span *ngIf="fieldSettings['Allh_Site_Code']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_Site_Code" pInputText
                            [readonly]="fieldSettings['Allh_Site_Code']?.disabled"
                            [required]="fieldSettings['Allh_Site_Code']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <button *ngIf="!fieldSettings['Allh_Site_Code']?.disabled" pButton
                            (click)="ShowPopUp('customersitecode')" icon="pi pi-ellipsis-h" class="custom-button"
                            style="margin-left:10px"></button>
                    </div>
                </div>

                <div *ngIf="!fieldSettings['Allh_Site_Name']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Customer Site Name
                            <span *ngIf="fieldSettings['Allh_Site_Name']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_Site_Name" pInputText
                            [readonly]="fieldSettings['Allh_Site_Name']?.disabled"
                            [required]="fieldSettings['Allh_Site_Name']?.mandatory"
                            style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
            </div>
            <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_FromLocation_Code']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%; "
                            (click)="routeTo('/common/narration-master')">Location Code
                            <span *ngIf="fieldSettings['Allh_FromLocation_Code']?.mandatory"
                                style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_FromLocation_Code" pInputText
                            [readonly]="fieldSettings['Allh_FromLocation_Code']?.disabled"
                            [required]="fieldSettings['Allh_FromLocation_Code']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <button pButton *ngIf="!fieldSettings['Allh_FromLocation_Code']?.disabled"
                            (click)="ShowPopUp('locationcode')" icon="pi pi-ellipsis-h" class="custom-button"
                            style="margin-left:10px"></button>
                    </div>
                </div>

                <div *ngIf="!fieldSettings['Allh_FromLocation_Name']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Location Name
                            <span *ngIf="fieldSettings['Allh_FromLocation_Name']?.mandatory"
                                style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_FromLocation_Name" pInputText
                            [readonly]="fieldSettings['Allh_FromLocation_Name']?.disabled"
                            [required]="fieldSettings['Allh_FromLocation_Name']?.mandatory"
                            style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
            </div>

            <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_Narra_Code']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%; ">Narration Code
                            <span *ngIf="fieldSettings['Allh_Narra_Code']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_Narra_Code" pInputText
                            [readonly]="fieldSettings['Allh_Narra_Code']?.disabled"
                            [required]="fieldSettings['Allh_Narra_Code']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <button pButton *ngIf="!fieldSettings['Allh_Narra_Code']?.disabled"
                            (click)="ShowPopUp('NarrationCode')" icon="pi pi-ellipsis-h" class="custom-button"
                            style="margin-left:10px"></button>
                    </div>
                </div>

                <div *ngIf="!fieldSettings['Allh_Narra_Name']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%; ">Narration Name
                            <span *ngIf="fieldSettings['Allh_Narra_Name']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_Narra_Name" pInputText
                            [readonly]="fieldSettings['Allh_Narra_Name']?.disabled"
                            [required]="fieldSettings['Allh_Narra_Name']?.mandatory"
                            style="background-color: #ffffff; width: 50%; height: 2vh;">
                        <button pButton *ngIf="!fieldSettings['Allh_Narra_Name']?.disabled"
                            (click)="ShowPopUp('ProductModuleCode')" icon="pi pi-ellipsis-h" class="custom-button"
                            style="margin-left:10px"></button>
                    </div>
                </div>
            </div>

            <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_PayTerm_Code']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%; "
                            (click)="routeTo('/common/narration-master')">Payment Terms Code
                            <span *ngIf="fieldSettings['Allh_PayTerm_Code']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_PayTerm_Code" pInputText
                            [readonly]="fieldSettings['Allh_PayTerm_Code']?.disabled"
                            [required]="fieldSettings['Allh_PayTerm_Code']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <button pButton *ngIf="!fieldSettings['Allh_PayTerm_Code']?.disabled"
                            (click)="ShowPopUp('PaymentTerms')" icon="pi pi-ellipsis-h" class="custom-button"
                            style="margin-left:10px"></button>
                    </div>
                </div>

                <div *ngIf="!fieldSettings['Allh_PayTerm_Name']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Payment Terms Name
                            <span *ngIf="fieldSettings['Allh_PayTerm_Name']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_PayTerm_Name" pInputText
                            [readonly]="fieldSettings['Allh_PayTerm_Name']?.disabled"
                            [required]="fieldSettings['Allh_PayTerm_Name']?.mandatory"
                            style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
            </div>

            <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_PayTerm_Days']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Payment Terms Days
                            <span *ngIf="fieldSettings['Allh_PayTerm_Days']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="number" [(ngModel)]="transactionhead.Allh_PayTerm_Days" pInputText
                            [readonly]="fieldSettings['Allh_PayTerm_Days']?.disabled"
                            [required]="fieldSettings['Allh_PayTerm_Days']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                    </div>
                </div>
            </div>

            <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_Curr_Code']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%; ">Currency Code
                            <span *ngIf="fieldSettings['Allh_Curr_Code']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_Curr_Code" pInputText
                            [readonly]="fieldSettings['Allh_Curr_Code']?.disabled"
                            [required]="fieldSettings['Allh_Curr_Code']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                        <button pButton *ngIf="!fieldSettings['Allh_Curr_Code']?.disabled"
                            (click)="ShowPopUp('CurrencyCode')" icon="pi pi-ellipsis-h" class="custom-button"
                            style="margin-left:10px"></button>
                    </div>
                </div>

                <div *ngIf="!fieldSettings['Allh_Curr_Name']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Currency Name
                            <span *ngIf="fieldSettings['Allh_Curr_Name']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="text" [(ngModel)]="transactionhead.Allh_Curr_Name" pInputText
                            [readonly]="fieldSettings['Allh_Curr_Name']?.disabled"
                            [required]="fieldSettings['Allh_Curr_Name']?.mandatory"
                            style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
            </div>

            <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_Curr_Rate']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Conversion Rate
                            <span *ngIf="fieldSettings['Allh_Curr_Rate']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="number" [(ngModel)]="transactionhead.Allh_Curr_Rate" pInputText
                            [readonly]="fieldSettings['Allh_Curr_Rate']?.disabled"
                            [required]="fieldSettings['Allh_Curr_Rate']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                    </div>
                </div>
            </div>
            <br>

            <div class="p-grid">
                <div *ngIf="!fieldSettings['Allh_FromDate']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%; "
                            (click)="routeTo('/common/shipped-to')">Applicable From Date
                            <span *ngIf="fieldSettings['Allh_FromDate']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="date" [(ngModel)]="transactionhead.Allh_FromDate" pInputText
                            [readonly]="fieldSettings['Allh_FromDate']?.disabled"
                            [required]="fieldSettings['Allh_FromDate']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                    </div>
                </div>

                <div *ngIf="!fieldSettings['Allh_ToDate']?.hidden" class="p-col-12 p-md-6"
                    style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">Applicable To Date
                            <span *ngIf="fieldSettings['Allh_ToDate']?.mandatory" style="color: red;">*</span>
                        </label>
                        <input type="date" [(ngModel)]="transactionhead.Allh_ToDate" pInputText
                            [readonly]="fieldSettings['Allh_ToDate']?.disabled"
                            [required]="fieldSettings['Allh_ToDate']?.mandatory"
                            style="background-color: #ffffff; width: 30%; height: 2vh;">
                    </div>
                </div>
            </div>
        </div>

        <!-- RIGHT SECTION: QR & Bar Code -->
        <div class="p-col-12 p-md-4">
            <div class="form-group">
                <label>Site QR Code</label><br /><br>
                <img [src]="transactionhead.Allh_JobQR_Code" alt="Site QR Code"
                    style="max-width: 80%; height: 150px; border: 1px solid #ccc; padding: 5px;" />
            </div>
            <div class="form-group" style="margin-top: 1rem;">
                <label>Site Bar Code</label><br /><br>
                <img [src]="transactionhead.Allh_JobBar_Code" alt="Site Bar Code"
                    style="width: 60%; height: 30px; display: block;" />
            </div>
        </div>

    </div>

    <h5 style="color: #003366;">Activation & Deactivation</h5>
    <div class="p-grid">
        <div class="p-col-12 p-md-5" style="padding: 0rem 0rem 0.5rem 0.5rem;">
            <div class="p-field">
                <label style="display: inline-block; width: 30%;">Activation & Devactivation Y/n</label>
                <input type="checkbox" [ngModel]="transactionhead.Allh_MasterAcDe_Yn === 'Y' ? true : false"
                    (ngModelChange)="transactionhead.Allh_MasterAcDe_Yn = $event ? 'Y' : 'N'">
            </div>
        </div>

    </div>
    <div class="p-grid">
        <div class="p-col-12 p-md-5" style="padding: 0rem 0rem 0.5rem 0.5rem;">
            <div class="p-field">
                <label style="display: inline-block; width: 30%;">Activation & Devactivation
                    Code</label>
                <input type="text" pInputText [(ngModel)]="transactionhead.Allh_MasterAcDe_Code"
                    style="background-color: #ffffff; width: 35%; height: 2vh;">
                <button pButton (click)="ShowPopUp('ActAndDeactCode')" icon="pi pi-ellipsis-h" class="popup-button"
                    style="margin-left: 10px;"></button>
            </div>
        </div>
        <div class="p-col-12 p-md-5" style="padding: 0rem 0rem 0.5rem 0.5rem;">
            <div class="p-field">
                <label style="display: inline-block; width: 30%;">Activation & Devactivation
                    Name</label>
                <input type="text" pInputText [(ngModel)]="transactionhead.Allh_MasterAcDe_Name"
                    style="background-color: #ffffff; width: 55%; height: 2vh;">
            </div>
        </div>
    </div>


    <h5 style="color: #003366;">Applicable Company Details</h5>

    <p-table [value]="this.transactionhead.TblProjSingleCo" class="company-table" [style]="{'width' : '60%'}">
        <ng-template pTemplate="header">
            <tr style="background-color: #f0f0f0; text-align: left;">
                <th style="padding: 10px; font-size: 12px;">Applicable Company Code</th>
                <th style="padding: 10px; font-size: 12px;">Applicable Company Name</th>
                <th>Actions</th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-rowData let-i="rowIndex">
            <tr style="font-size: 12px; text-align: left;">
                <td style="padding: 8px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span>{{ rowData.Alld_SingleCo_Code }}</span>
                        <button pButton icon="pi pi-ellipsis-h" (click)="ShowPopUp('ApplicableCompanyCode', i)"
                            class="custom-button" style="width: 40px; padding: 0; margin-left: 0.5rem;"></button>
                    </div>
                </td>
                <td style="padding: 8px;">{{ rowData.Alld_SingleCo_Name }}</td>
                <td>
                    <button pButton icon="pi pi-trash" (click)="deleteRow('TblProjSingleCo',i)" class="custom-button"
                        style="margin-right: 0.5rem;"></button>
                    <button pButton icon="pi pi-plus" label="Add Row" (click)="addRow('TblProjSingleCo',i)"
                        class="custom-button"></button>
                </td>

            </tr>
        </ng-template>

    </p-table>



    <br>
    <br>

    <div class="custom-tabs">

        <div class="tab-headers">
            <ng-container *ngFor="let tab of scrollableTabs; let i = index">
                <div class="tab-header" [class.active]="activeIndex === i" *ngIf="tab.visible == true"
                    (click)="changeIndex(i)">
                    {{ tab.title }}
                </div>
            </ng-container>
        </div>

        <div class="tab-content" *ngIf="activeIndex || activeIndex == 0">

            <ng-container
                *ngIf="scrollableTabs[activeIndex] && activeIndex == 0 && scrollableTabs[activeIndex].visible == true">


                <p-table [value]="this.transactionhead.TblProjTransDetail" [scrollable]="true" scrollHeight="270px"
                    scrollWidth="100%" [resizableColumns]="true" [responsive]="true" [reorderableColumns]="true">
                    <ng-template pTemplate="header">
                        <tr>
                            <th style="width: 3rem;">
                                <input type="checkbox" [checked]="isAllSelected()" (change)="toggleSelectAll($event)" />
                            </th>
                            <ng-container *ngFor="let col of TableData">
                                <th>
                                <th *ngIf="!col.hide && !col.routeTo"
                                    [ngStyle]="{'width':col.width, 'white-space': 'normal'}">
                                    <span>{{col.header}}</span>
                                </th>
                                <th *ngIf="!col.hide && col.routeTo" (click)="routeTo(col.routeTo)"
                                    [ngStyle]="{'width':col.width, 'white-space': 'normal','text-decoration': 'underline'}">
                                    <span>{{col.header}}</span>
                                </th>



                            </ng-container>
                            <th style="width: 4rem;"></th>
                            <th style="width: 6rem;"></th>

                        </tr>
                    </ng-template>

                    <ng-template pTemplate="body" let-product let-i="rowIndex">
                        <tr (click)="onRowClick(product, i)" (contextmenu)="onRightClick($event, product, i)">

                            <td style="width: 3rem;">
                                <input type="checkbox" [(ngModel)]="product.selected" />
                            </td>
                            <ng-container *ngFor="let col of TableData">
                                <td pEditableColumn style="padding: 0.5rem 0.5rem;" *ngIf="!col.hide"
                                    [ngStyle]="{'width':col.width , 'text-align ': col.align}">

                                    <ng-container *ngIf="!col.PopUpData">
                                        <input pInputText [type]="col.type" style="padding: 0;"
                                            [readonly]="col.readOnly" [required]="col.mandatory"
                                            [ngClass]="{'manual-column': col.manual}" [style]="{'width': '100%'}"
                                            [(ngModel)]="product[col.bind]"
                                            (ngModelChange)="onInputChange(product, col.bind)" (click)="toggle(0)" />
                                    </ng-container>

                                    <!-- Editable Input with Pop-Up -->
                                    <ng-container *ngIf="!col.readOnly && col.PopUpData">

                                        <input pInputText [type]="col.type" style="padding: 0;"
                                            [ngClass]="{'manual-column': col.manual}" [style]="{'width': '70%'}"
                                            [(ngModel)]="product[col.bind]" [readonly]="col.readOnly"
                                            [required]="col.mandatory"
                                            (ngModelChange)="onInputChange(product, col.bind)" (click)="toggle(0)" />

                                        <button pButton *ngIf="col.PopUpData" icon="pi pi-ellipsis-h"
                                            class="custom-button" style="position: absolute; padding: 0;"
                                            (click)="ShowPopUp(col.PopUpData, i)"></button>

                                    </ng-container>

                                    <!-- Read-Only Fields -->
                                    <ng-container *ngIf="col.readOnly">
                                        <span>{{ product[col.bind] | number: '1.2-2' }}</span>
                                    </ng-container>
                                </td>

                            </ng-container>
                            <td style="width: 4rem;">
                                <button pButton style=" padding: 0;" icon="pi pi-trash"
                                    (click)="deleteRow('TblProjTransDetail',i,product)" class="custom-button"></button>
                            </td>
                            <td style="width: 6rem;">
                                <button pButton style=" padding: 1;" icon="pi pi-plus" label="Add Row"
                                    class="custom-button" (click)="addRow('TblProjTransDetail',i)"></button>
                            </td>


                        </tr>
                    </ng-template>

                </p-table>


                <br>


            </ng-container>

            <ng-container
                *ngIf="scrollableTabs[activeIndex] && activeIndex == 1 && scrollableTabs[activeIndex].visible == true">
                <p-table [value]="this.transactionhead.TblClientContact" [scrollable]="true" scrollHeight="270px"
                    scrollWidth="100%" [resizableColumns]="true" [responsive]="true" [reorderableColumns]="true">

                    <ng-template pTemplate="header">
                        <tr>
                            <th style="width: 3rem;">
                                <input type="checkbox" [checked]="isAllSelected()" (change)="toggleSelectAll($event)" />
                            </th>

                            <ng-container *ngFor="let col of ClientTableData">
                                <th *ngIf="!col.hide && !col.routeTo"
                                    [ngStyle]="{'width':col.width, 'white-space': 'normal'}">
                                    <span>{{col.header}}</span>
                                </th>
                                <th *ngIf="!col.hide && col.routeTo" (click)="routeTo(col.routeTo)"
                                    [ngStyle]="{'width':col.width, 'white-space': 'normal', 'text-decoration': 'underline'}">
                                    <span>{{col.header}}</span>
                                </th>
                            </ng-container>
                        </tr>
                    </ng-template>

                    <ng-template pTemplate="body" let-product let-i="rowIndex">
                        <tr (click)="onRowClick(product, i)" (contextmenu)="onRightClick($event, product, i)">
                            <td style="width: 3rem;">
                                <input type="checkbox" [(ngModel)]="product.selected" />
                            </td>

                            <ng-container *ngFor="let col of ClientTableData">
                                <td pEditableColumn style="padding: 0.5rem 0.5rem;" *ngIf="!col.hide"
                                    [ngStyle]="{'width': col.width, 'text-align': col.align}">

                                    <!-- Editable Input Without Pop-Up -->
                                    <ng-container *ngIf="!col.PopUpData && !col.readOnly">
                                        <input pInputText [type]="col.type" style="padding: 0;"
                                            [readonly]="col.readOnly" [required]="col.mandatory"
                                            [ngClass]="{'manual-column': col.manual}" [style]="{'width': '100%'}"
                                            [(ngModel)]="product[col.bind]"
                                            (ngModelChange)="onInputChange(product, col.bind)" (click)="toggle(0)" />
                                    </ng-container>

                                    <!-- Editable Input With Pop-Up -->
                                    <ng-container *ngIf="!col.readOnly && col.PopUpData">
                                        <input pInputText [type]="col.type" style="padding: 0;"
                                            [ngClass]="{'manual-column': col.manual}" [style]="{'width': '60%'}"
                                            [(ngModel)]="product[col.bind]" [readonly]="col.readOnly"
                                            [required]="col.mandatory"
                                            (ngModelChange)="onInputChange(product, col.bind)" (click)="toggle(0)" />
                                        <button pButton icon="pi pi-ellipsis-h" class="custom-button"
                                            style="position: absolute; padding: 0;"
                                            (click)="ShowPopUp(col.PopUpData, i)"></button>
                                    </ng-container>

                                    <!-- Read-Only Fields -->
                                    <ng-container *ngIf="col.readOnly">
                                        <span>{{ product[col.bind] | number: '1.2-2' }}</span>
                                    </ng-container>
                                </td>
                            </ng-container>
                        </tr>
                    </ng-template>
                </p-table>
            </ng-container>

            <ng-container
                *ngIf="scrollableTabs[activeIndex] && activeIndex == 2 && scrollableTabs[activeIndex].visible == true">
                <p-table [value]="this.transactionhead.TblOurContact" [scrollable]="true" scrollHeight="270px"
                    scrollWidth="100%" [resizableColumns]="true" [responsive]="true" [reorderableColumns]="true">
                    <ng-template pTemplate="header">
                        <tr>
                            <th style="width: 3rem;">
                                <input type="checkbox" [checked]="isAllSelected()" (change)="toggleSelectAll($event)" />
                            </th>
                            <ng-container *ngFor="let col of SiteTableData">

                                <th *ngIf="!col.hide && !col.routeTo"
                                    [ngStyle]="{'width':col.width, 'white-space': 'normal'}">
                                    <span>{{col.header}}</span>
                                </th>
                                <th *ngIf="!col.hide && col.routeTo" (click)="routeTo(col.routeTo)"
                                    [ngStyle]="{'width':col.width, 'white-space': 'normal','text-decoration': 'underline'}">
                                    <span>{{col.header}}</span>
                                </th>



                            </ng-container>


                        </tr>
                    </ng-template>

                    <ng-template pTemplate="body" let-product let-i="rowIndex">
                        <tr (click)="onRowClick(product, i)" (contextmenu)="onRightClick($event, product, i)">

                            <td style="width: 3rem;">
                                <input type="checkbox" [(ngModel)]="product.selected" />
                            </td>
                            <ng-container *ngFor="let col of SiteTableData">
                                <td pEditableColumn style="padding: 0.5rem 0.5rem;" *ngIf="!col.hide"
                                    [ngStyle]="{'width':col.width , 'text-align ': col.align}">

                                    <ng-container *ngIf="!col.PopUpData">
                                        <input pInputText [type]="col.type" style="padding: 0;"
                                            [readonly]="col.readOnly" [required]="col.mandatory"
                                            [ngClass]="{'manual-column': col.manual}" [style]="{'width': '100%'}"
                                            [(ngModel)]="product[col.bind]"
                                            (ngModelChange)="onInputChange(product, col.bind)" (click)="toggle(0)" />
                                    </ng-container>

                                    <!-- Editable Input with Pop-Up -->
                                    <ng-container *ngIf="!col.readOnly && col.PopUpData">

                                        <input pInputText [type]="col.type" style="padding: 0;"
                                            [ngClass]="{'manual-column': col.manual}" [style]="{'width': '60%'}"
                                            [(ngModel)]="product[col.bind]" [readonly]="col.readOnly"
                                            [required]="col.mandatory"
                                            (ngModelChange)="onInputChange(product, col.bind)" (click)="toggle(0)" />

                                        <button pButton *ngIf="col.PopUpData" icon="pi pi-ellipsis-h"
                                            class="custom-button" style="position: absolute; padding: 0;"
                                            (click)="ShowPopUp(col.PopUpData, i)"></button>

                                    </ng-container>

                                    <!-- Read-Only Fields -->
                                    <ng-container *ngIf="col.readOnly">
                                        <span>{{ product[col.bind] | number: '1.2-2' }}</span>
                                    </ng-container>




                                </td>

                            </ng-container>



                        </tr>
                    </ng-template>

                </p-table>
            </ng-container>
            <ng-container
                *ngIf="scrollableTabs[activeIndex] && activeIndex == 3 && scrollableTabs[activeIndex].visible == true">
                <p-table [value]="this.transactionhead.TblProjTransCriteria" [scrollable]="true" scrollHeight="270px"
                    scrollWidth="100%" [resizableColumns]="true" [responsive]="true" [reorderableColumns]="true">
                    <ng-template pTemplate="header">
                        <tr>
                            <th style="width: 3rem;">
                                <input type="checkbox" [checked]="isAllSelected()" (change)="toggleSelectAll($event)" />
                            </th>
                            <ng-container *ngFor="let col of CriteriaTableData">

                                <th *ngIf="!col.hide && !col.routeTo"
                                    [ngStyle]="{'width':col.width, 'white-space': 'normal'}">
                                    <span>{{col.header}}</span>
                                </th>
                                <th *ngIf="!col.hide && col.routeTo" (click)="routeTo(col.routeTo)"
                                    [ngStyle]="{'width':col.width, 'white-space': 'normal','text-decoration': 'underline'}">
                                    <span>{{col.header}}</span>
                                </th>



                            </ng-container>


                        </tr>
                    </ng-template>

                    <ng-template pTemplate="body" let-product let-i="rowIndex">
                        <tr (click)="onRowClick(product, i)" (contextmenu)="onRightClick($event, product, i)">

                            <td style="width: 3rem;">
                                <input type="checkbox" [(ngModel)]="product.selected" />
                            </td>
                            <ng-container *ngFor="let col of CriteriaTableData">
                                <td pEditableColumn style="padding: 0.5rem 0.5rem;" *ngIf="!col.hide"
                                    [ngStyle]="{'width':col.width , 'text-align ': col.align}">

                                    <ng-container *ngIf="!col.PopUpData">
                                        <input pInputText [type]="col.type" style="padding: 0;"
                                            [readonly]="col.readOnly" [required]="col.mandatory"
                                            [ngClass]="{'manual-column': col.manual}" [style]="{'width': '100%'}"
                                            [(ngModel)]="product[col.bind]"
                                            (ngModelChange)="onInputChange(product, col.bind)" (click)="toggle(0)" />
                                    </ng-container>

                                    <!-- Editable Input with Pop-Up -->
                                    <ng-container *ngIf="!col.readOnly && col.PopUpData">

                                        <input pInputText [type]="col.type" style="padding: 0;"
                                            [ngClass]="{'manual-column': col.manual}" [style]="{'width': '60%'}"
                                            [(ngModel)]="product[col.bind]" [readonly]="col.readOnly"
                                            [required]="col.mandatory"
                                            (ngModelChange)="onInputChange(product, col.bind)" (click)="toggle(0)" />

                                        <button pButton *ngIf="col.PopUpData" icon="pi pi-ellipsis-h"
                                            class="custom-button" style="position: absolute; padding: 0;"
                                            (click)="ShowPopUp(col.PopUpData, i)"></button>

                                    </ng-container>

                                    <!-- Read-Only Fields -->
                                    <ng-container *ngIf="col.readOnly">
                                        <span>{{ product[col.bind] | number: '1.2-2' }}</span>
                                    </ng-container>




                                </td>

                            </ng-container>



                        </tr>
                    </ng-template>

                </p-table>
            </ng-container>



            <ng-container
                *ngIf="scrollableTabs[activeIndex] && activeIndex == 4 && scrollableTabs[activeIndex].visible == true">
                <div
                    style="border: 1px solid #b7dbff; padding: 15px; border-radius: 5px; background-color: #d1e2f1; font-size: 10px;">

                    <div class="p-grid" style=" font-weight: bold; text-align: center;">
                        <div class="p-col-12 p-md-4"
                            style="padding: 0.5rem; border: 1px solid #ccc;background-color: antiquewhite;">
                            <label style="display: block; width: 100%;">Code</label>
                        </div>
                        <div class="p-col-12 p-md-4"
                            style="padding: 0.5rem; border: 1px solid #ccc;background-color: antiquewhite;">
                            <label style="display: block; width: 100%;">Name</label>
                        </div>
                    </div>

                    <br>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_CostCent_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('cost-center')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Cost
                                    Center Code
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_CostCent_Code']?.disabled"
                                    [required]="fieldSettings['Allh_CostCent_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_CostCent_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_CostCent_Code']?.hidden" pButton
                                    (click)="ShowPopUp('CostCenterCode')" icon="pi pi-ellipsis-h" class="custom-button"
                                    style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_CostCent_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Cost Center Name
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_CostCent_Name']?.disabled"
                                    [required]="fieldSettings['Allh_CostCent_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_CostCent_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_ProCent_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('profit-center')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Profit
                                    Center Code
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory"
                                        style="color: red;">*</span></label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_ProCent_Code']?.disabled"
                                    [required]="fieldSettings['Allh_ProCent_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_ProCent_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_ProCent_Code']?.hidden" pButton
                                    (click)="ShowPopUp('ProfitCenterCode')" icon="pi pi-ellipsis-h"
                                    class="custom-button" style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_ProCent_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Profit Center Name
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_ProCent_Name']?.disabled"
                                    [required]="fieldSettings['Allh_ProCent_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_ProCent_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_Sman_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('salesman')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Salesman
                                    Code
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Sman_Code']?.disabled"
                                    [required]="fieldSettings['Allh_Sman_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Sman_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_Sman_Code']?.hidden" pButton
                                    (click)="ShowPopUp('SalesmanCode')" icon="pi pi-ellipsis-h" class="custom-button"
                                    style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_Sman_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Salesman Name
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>

                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Sman_Name']?.disabled"
                                    [required]="fieldSettings['Allh_Sman_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Sman_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_Div_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('division')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Division
                                    Code
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Div_Code']?.disabled"
                                    [required]="fieldSettings['Allh_Div_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Div_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_Div_Code']?.disabled" pButton
                                    (click)="ShowPopUp('DivisionCode')" icon="pi pi-ellipsis-h" class="custom-button"
                                    style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_Div_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Division Name
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>

                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Div_Name']?.disabled"
                                    [required]="fieldSettings['Allh_Div_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Div_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_Dept_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('department')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Department
                                    Code
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Dept_Code']?.disabled"
                                    [required]="fieldSettings['Allh_Dept_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Dept_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_Dept_Code']?.disabled" pButton
                                    (click)="ShowPopUp('DepartmentCode')" icon="pi pi-ellipsis-h" class="custom-button"
                                    style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_Dept_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Department Name
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>

                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Dept_Name']?.disabled"
                                    [required]="fieldSettings['Allh_Dept_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Dept_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_Job_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('job')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Job
                                    Code
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Job_Code']?.disabled"
                                    [required]="fieldSettings['Allh_Job_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Job_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_Job_Code']?.disabled" pButton
                                    (click)="ShowPopUp('JobCode')" icon="pi pi-ellipsis-h" class="custom-button"
                                    style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_Job_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Job Name
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>

                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Job_Name']?.disabled"
                                    [required]="fieldSettings['Allh_Job_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Job_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_OtherCent_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('other-centers')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Other
                                    Centre Code
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_OtherCent_Code']?.disabled"
                                    [required]="fieldSettings['Allh_OtherCent_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_OtherCent_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_OtherCent_Code']?.disabled" pButton
                                    (click)="ShowPopUp('OtherCentreCode')" icon="pi pi-ellipsis-h" class="custom-button"
                                    style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_OtherCent_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Other Centre Name
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>

                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_OtherCent_Name']?.disabled"
                                    [required]="fieldSettings['Allh_OtherCent_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_OtherCent_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_SaleOrg_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('sales-organization')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Sales
                                    Organization Code
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory"
                                        style="color: red;">*</span></label>

                                <input type="text" pInputText [readonly]="fieldSettings['Allh_SaleOrg_Code']?.disabled"
                                    [required]="fieldSettings['Allh_SaleOrg_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_SaleOrg_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_SaleOrg_Code']?.disabled" pButton
                                    (click)="ShowPopUp('SalesOrganizationCode')" icon="pi pi-ellipsis-h"
                                    class="custom-button" style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_SaleOrg_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Sales Organization
                                    Name
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_SaleOrg_Name']?.disabled"
                                    [required]="fieldSettings['Allh_SaleOrg_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_SaleOrg_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_DiscChanel_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('distribution-channel')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Distribution
                                    Channel Code
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_DiscChanel_Code']?.disabled"
                                    [required]="fieldSettings['Allh_DiscChanel_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_DiscChanel_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_DiscChanel_Code']?.disabled" pButton
                                    (click)="ShowPopUp('DistributionChannelCode')" icon="pi pi-ellipsis-h"
                                    class="custom-button" style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_DiscChanel_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Distribution Channel
                                    Name
                                    <span *ngIf="fieldSettings['HPOS_Number']?.mandatory" style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_DiscChanel_Name']?.disabled"
                                    [required]="fieldSettings['Allh_DiscChanel_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_DiscChanel_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_SalesOffice_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('sales-office')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Sales
                                    Office Code
                                    <span *ngIf="fieldSettings['Allh_SalesOffice_Code']?.mandatory"
                                        style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_SalesOffice_Code']?.disabled"
                                    [required]="fieldSettings['Allh_SalesOffice_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_SalesOffice_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_SalesOffice_Code']?.disabled" pButton
                                    (click)="ShowPopUp('SalesOfficeCode')" icon="pi pi-ellipsis-h" class="custom-button"
                                    style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_SalesOffice_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Sales Office Name
                                    <span *ngIf="fieldSettings['Allh_SalesOffice_Name']?.mandatory"
                                        style="color: red;">*</span>

                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_SalesOffice_Name']?.disabled"
                                    [required]="fieldSettings['Allh_SalesOffice_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_SalesOffice_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_SalesGroup_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('sales-group')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Sales
                                    Group Code
                                    <span *ngIf="fieldSettings['Allh_SalesGroup_Code']?.mandatory"
                                        style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_SalesGroup_Code']?.disabled"
                                    [required]="fieldSettings['Allh_SalesGroup_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_SalesGroup_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_SalesGroup_Code']?.disabled" pButton
                                    (click)="ShowPopUp('SalesGroupCode')" icon="pi pi-ellipsis-h" class="custom-button"
                                    style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_SalesGroup_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Sales Group Name
                                    <span *ngIf="fieldSettings['Allh_SalesGroup_Name']?.mandatory"
                                        style="color: red;">*</span>

                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_SalesGroup_Name']?.disabled"
                                    [required]="fieldSettings['Allh_SalesGroup_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_SalesGroup_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_PlaceSuppl_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('place-of-supply')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Place
                                    of
                                    Supply Code
                                    <span *ngIf="fieldSettings['Allh_PlaceSuppl_Code']?.mandatory"
                                        style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_PlaceSuppl_Code']?.disabled"
                                    [required]="fieldSettings['Allh_PlaceSuppl_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_PlaceSuppl_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_PlaceSuppl_Code']?.disabled" pButton
                                    (click)="ShowPopUp('PlaceOfSupplyCode')" icon="pi pi-ellipsis-h"
                                    class="custom-button" style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_PlaceSuppl_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Place of Supply Name
                                    <span *ngIf="fieldSettings['Allh_PlaceSuppl_Name']?.mandatory"
                                        style="color: red;">*</span>

                                </label>
                                <input type="text" pInputText
                                    [readonly]="fieldSettings['Allh_PlaceSuppl_Name']?.disabled"
                                    [required]="fieldSettings['Allh_PlaceSuppl_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_PlaceSuppl_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                    <div class="p-grid">
                        <div *ngIf="!fieldSettings['Allh_Jurisd_Code']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label (click)="routeTo('jurisdiction')"
                                    style="display: inline-block; width: 40%;text-decoration: underline;">Jurisdiction
                                    Code
                                    <span *ngIf="fieldSettings['Allh_Jurisd_Code']?.mandatory"
                                        style="color: red;">*</span>
                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Jurisd_Code']?.disabled"
                                    [required]="fieldSettings['Allh_Jurisd_Code']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Jurisd_Code"
                                    style="background-color: #ffffff !important; width: 30%; height: 2vh;">
                                <button *ngIf="!fieldSettings['Allh_Jurisd_Code']?.disabled" pButton
                                    (click)="ShowPopUp('JurisdictionCode')" icon="pi pi-ellipsis-h"
                                    class="custom-button" style="margin-left: 10px;"></button>
                            </div>
                        </div>
                        <div *ngIf="!fieldSettings['Allh_Jurisd_Name']?.hidden" class="p-col-12 p-md-4"
                            style="padding: 0rem 0rem 0.5rem 0.5rem;">
                            <div class="p-field">
                                <label style="display: inline-block; width: 40%;">Jurisdiction Name
                                    <span *ngIf="fieldSettings['Allh_Jurisd_Name']?.mandatory"
                                        style="color: red;">*</span>

                                </label>
                                <input type="text" pInputText [readonly]="fieldSettings['Allh_Jurisd_Name']?.disabled"
                                    [required]="fieldSettings['Allh_Jurisd_Name']?.mandatory"
                                    [(ngModel)]="transactionhead.Allh_Jurisd_Name"
                                    style="background-color: #ffffff !important; width: 55%; height: 2vh;">
                            </div>
                        </div>
                    </div>

                </div>
            </ng-container>





            <ng-container
                *ngIf="scrollableTabs[activeIndex] && activeIndex == 5 && scrollableTabs[activeIndex].visible == true">
                <app-document-attachment [dto]="this._stockService.stockData.tblDocAttach"></app-document-attachment>
            </ng-container>


        </div>
    </div>

</div>

<div class="custom-menu" *ngIf="showContextMenu" [ngStyle]="{left: menuPosition.x + 'px', top: menuPosition.y + 'px'}">
    <ul>
        <li class="custom-menu-item " (click)="handleAction('VesselBooking')">
            <span class="menu-icon"></span> Vessel Booking Details
        </li>
        <li class="custom-menu-item" (click)="handleAction('WHManagement')">
            <span class="menu-icon"></span> WH Management
        </li>
        <li class="custom-menu-item" (click)="handleAction('QA/QC')">
            <span class="menu-icon"></span> QA/QC Details
        </li>
    </ul>
</div>




<p-dialog [modal]="true" [(visible)]="display" [style]="{width: '50vw'}">
    <p-table [value]="rights" responsiveLayout="scroll">
        <ng-template pTemplate="header">
            <tr>
                <th>Rights</th>
                <th>Rights Details</th>
                <!-- <th>Action</th> -->
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-right>
            <tr>
                <td>
                    <input type="checkbox" [(ngModel)]="right.hasRight" />
                </td>
                <td>{{ right.detail }}</td>
                <!-- <td>
                    <input type="checkbox" [(ngModel)]="right.hasAction" />
                </td> -->
            </tr>
        </ng-template>
    </p-table>
</p-dialog>

<p-dialog [modal]="true" [(visible)]="showAuthMsg" [closable]="false" [style]="{width: '70vw'}">
    <br>

    <div class="p-grid" style="background-color: #d1e2f1;">
        <div class="p-col-12" style="border: 1px solid #003366; border-radius: 5px;">
            <h6 style="
            background-color: #5c96d4;
            color: white;
            height: 4vh;
            align-items: center;
            display: flex;
            padding-left: 8px;
          ">
                Authorize with Message
            </h6>

            <p-table [value]="TblAuthMsg" class="table-style">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 6rem;">Employee Code</th>
                        <th style="width: 6rem;">Employee Name</th>
                        <th style="width: 6rem;">Alerts Code</th>
                        <th style="width: 6rem;">Alerts Name</th>
                        <th style="width: 6rem;">Alerts Email</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-rowData let-i="rowIndex">
                    <tr>
                        <td pEditableColumn>
                            <input pInputText type="text" style="padding: 0; width: 80%; background-color: transparent;"
                                [(ngModel)]="rowData.employeeCode">
                            <button pButton style="width: 20%; padding: 0;" icon="pi pi-ellipsis-h"
                                (click)="ShowPopUp('AuthMsgEmpCode',i)" class="custom-button"></button>
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.employeeName">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text" style="padding: 0; width: 80%; background-color: transparent;"
                                [(ngModel)]="rowData.alertsCode">
                            <button pButton style="width: 20%; padding: 0;" icon="pi pi-ellipsis-h"
                                (click)="ShowPopUp('AuthMsgAlertCode',i)" class="custom-button"></button>
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.alertsName">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.alertsEmail">
                        </td>
                    </tr>

                </ng-template>
            </p-table>

        </div>
    </div>

    <br>
    <div class="p-dialog-footer" style="padding: 0rem !important;">
        <button pButton type="button" label="Send" class="custom-button"></button>
        <button pButton type="button" label="Cancel" (click)="showAuthMsg = false" class="custom-button"></button>
    </div>


</p-dialog>

<p-dialog [modal]="true" [(visible)]="showRejectMsg" [closable]="false" [style]="{width: '70vw'}">
    <br>

    <div class="p-grid" style="background-color: #d1e2f1;">
        <div class="p-col-12" style="border: 1px solid #003366; border-radius: 5px;">
            <h6 style="
        background-color: #5c96d4;
        color: white;
        height: 4vh;
        align-items: center;
        display: flex;
        padding-left: 8px;
      ">
                Reject with Message
            </h6>

            <p-table [value]="TblRejectMsg" class="table-style">
                <ng-template pTemplate="header">
                    <tr>

                        <th style="width: 6rem;">Employee Code</th>
                        <th style="width: 6rem;">Employee Name</th>
                        <th style="width: 6rem;">Alerts Code</th>
                        <th style="width: 6rem;">Alerts Name</th>
                        <th style="width: 6rem;">Alerts Email</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-rowData let-i="rowIndex">
                    <tr>
                        <td pEditableColumn>
                            <input pInputText type="text" style="padding: 0; width: 80%; background-color: transparent;"
                                [(ngModel)]="rowData.employeeCode">
                            <button pButton style="width: 20%; padding: 0;" icon="pi pi-ellipsis-h"
                                (click)="ShowPopUp('RejectMsgEmpCode',i)" class="custom-button"></button>
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.employeeName">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text" style="padding: 0; width: 80%; background-color: transparent;"
                                [(ngModel)]="rowData.alertsCode">
                            <button pButton style="width: 20%; padding: 0;" icon="pi pi-ellipsis-h"
                                (click)="ShowPopUp('RejectMsgAlertCode',i)" class="custom-button"></button>
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.alertsName">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.alertsEmail">
                        </td>
                    </tr>
                </ng-template>
            </p-table>

        </div>
    </div>

    <br>
    <div class="p-dialog-footer" style="padding: 0rem !important;">
        <button pButton type="button" label="Send" class="custom-button" (click)="showRejectMsg = false"></button>
        <button pButton type="button" label="Cancel" (click)="showRejectMsg = false" class="custom-button"></button>
    </div>
</p-dialog>

<p-dialog [modal]="true" [(visible)]="showStatus" [closable]="false" [style]="{width: '50vw'}">

    <div style="padding: 15px; background-color: #d1e2f1; font-size: 10px;">

        <div class="p-grid">

            <div class="p-col-12" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                <h6 style="color: #003366;">Finance Approval Status</h6>
            </div>

        </div>

        <div class="p-grid">

            <div class="p-col-12" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                <div class="custom-stepper">
                    <ng-container *ngFor="let step of FinanceApprovalStatus; let i = index">
                        <div class="step" [ngClass]="{ 
                        active: currentStep >= i + 1, 
                        approved: step.status === 'Approved', 
                        rejected: step.status === 'Rejected' 
                      }">
                            <div class="step-circle"></div>
                            <div class="step-label">{{ step.name }}</div>
                            <div class="step-status" *ngIf="currentStep >= i + 1">{{ step.status }}</div>
                        </div>
                        <div class="step-line"></div>
                    </ng-container>
                </div>
            </div>

        </div>
        <br>
        <br>
        <br>


        <div class="p-grid">

            <div class="p-col-12" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                <h6 style="color: #003366;">Transaction Approval Status</h6>
            </div>

        </div>

        <div class="p-grid">

            <div class="p-col-12" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                <div class="custom-stepper">
                    <ng-container *ngFor="let step of TransactionSteps; let i = index">
                        <div class="step" [ngClass]="{ 
                        active: currentStep >= i + 1, 
                        approved: step.status === 'Approved', 
                        rejected: step.status === 'Rejected' 
                      }">
                            <div class="step-circle"></div>
                            <div class="step-label">{{ step.name }}</div>
                            <div class="step-status" *ngIf="currentStep >= i + 1">{{ step.status }}</div>
                        </div>
                        <div class="step-line"></div>
                    </ng-container>
                </div>
            </div>

        </div>

    </div>

    <ng-template pTemplate="footer">
        <button pButton label="OK" icon="pi pi-check" (click)="this.showStatus = false"></button>
        <button pButton label="Cancel" icon="pi pi-times" (click)="this.showStatus = false"
            class="p-button-secondary "></button>
    </ng-template>

</p-dialog>

<p-dialog [modal]="true" [(visible)]="showSaveMsg" [closable]="false" [style]="{width: '50vw'}">
    <br>

    <div class="p-grid" style="background-color: #d1e2f1;">
        <div class="p-col-12" style="border: 1px solid #003366; border-radius: 5px;">
            <h6 style="
        background-color: #5c96d4;
        color: white;
        height: 4vh;
        align-items: center;
        display: flex;
        padding-left: 8px;
      ">
                Save with Message
            </h6>

            <p-table [value]="TblSaveMsg" class="table-style">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 6rem;">Alerts Code</th>
                        <th style="width: 6rem;">Alerts Name</th>
                        <th style="width: 6rem;">Alerts Email</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-rowData let-i="rowIndex">
                    <tr>
                        <td pEditableColumn>
                            <input pInputText type="text" style="padding: 0; width: 80%; background-color: transparent;"
                                [(ngModel)]="rowData.alertsCode">
                            <button pButton style="width: 20%; padding: 0;" icon="pi pi-ellipsis-h"
                                (click)="ShowPopUp('SaveMsgAlertCode',i)" class="custom-button"></button>
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.alertsName">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.alertsEmail">
                        </td>
                    </tr>
                </ng-template>
            </p-table>

        </div>
    </div>

    <br>
    <div class="p-dialog-footer" style="padding: 0rem !important;">
        <button pButton type="button" label="Send" class="custom-button" (click)="showRejectMsg = false"></button>
        <button pButton type="button" label="Cancel" (click)="showRejectMsg = false" class="custom-button"></button>
    </div>
</p-dialog>

<app-popup [displayData]="popUpService.popUpData" (backClick)="selectedItem($event)"></app-popup>

<!-- Conformation Popup starts -->

<p-dialog [(visible)]="showConf" [modal]="true" [closable]="false" [header]="'Confirmation'" [style]="{width: '40vw'}">
    <p>{{ headerConf.message }}</p>
    <div class="p-dialog-footer">
        <button pButton type="button" label="Yes" (click)="confirmConf()" class="p-button-primary"></button>
        <button pButton type="button" label="Cancel" (click)="cancelConf()" class="p-button-secondary"></button>
    </div>
</p-dialog>

<!-- Conformation Popup ends -->



<!-- allocation popup -->

<p-dialog [modal]="true" [(visible)]="taxAllocation" [closable]="true" [style]="{width: '70vw'}">
    <br>

    <div class="p-grid" style="background-color: #d1e2f1;font-size: 10px;">
        <div class="p-col-12" style="border: 1px solid #003366; border-radius: 5px;">
            <h6 style="
        background-color: #5c96d4;
        color: white;
        height: 4vh;
        align-items: center;
        display: flex;
        padding-left: 8px;
      ">
                Tax Allocation
            </h6>
            <br>



            <div class="p-grid">

                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">New Reference</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>
                <div class="p-col-12 p-md-4"></div>
                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">On-Account</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>

            </div>

            <br>


            <p-table [value]="TblAllocation" [rows]="5" [scrollable]="true" scrollHeight="270px" scrollWidth="100%"
                [resizableColumns]="true" [responsive]="true" [reorderableColumns]="true" class="table-style">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 6rem;">Reference</th>
                        <th style="width: 6rem;">Due Date</th>
                        <th style="width: 6rem;">Bill Amount</th>
                        <th style="width: 6rem;">Amount Adjusted</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-rowData let-i="rowIndex">
                    <tr>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.reference">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.dueDate">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.billAmount">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.amountAdjusted">
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <br>
            <br>
            <div class="p-grid">
                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 40%;">Amount to be Adjusted</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 40%;">Amount Adjusted</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 40%;">To be Adjusted</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
            </div>

        </div>
    </div>

    <ng-template pTemplate="footer">
        <div style="display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 1rem;">
            <div class="p-field" style="display: flex; align-items: center; width: 100%; max-width: 40%;">
                <button pButton label="Search"></button>
                <input type="text" pInputText
                    style="background-color: #ffffff; width: 80%; height: 2rem; border: 1px solid;">
            </div>

            <div
                style="display: flex; justify-content: flex-end; width: 100%; max-width: 50%; flex-wrap: wrap; justify-content: flex-end;">
                <button pButton label="Adjust On FIFO" icon="pi pi-objects-column"></button>
                <button pButton label="Pick Amount"></button>
                <button pButton label="OK" icon="pi pi-check" (click)="this.taxAllocation = false"></button>
                <button pButton label="Cancel" icon="pi pi-times" (click)="this.taxAllocation = false"
                    class="p-button-secondary "></button>
            </div>
        </div>
    </ng-template>

</p-dialog>



<p-dialog [modal]="true" [(visible)]="invoiceAllocation" [closable]="true" [style]="{width: '70vw'}">
    <br>

    <div class="p-grid" style="background-color: #d1e2f1;font-size: 10px;">
        <div class="p-col-12" style="border: 1px solid #003366; border-radius: 5px;">
            <h6 style="
        background-color: #5c96d4;
        color: white;
        height: 4vh;
        align-items: center;
        display: flex;
        padding-left: 8px;
      ">
                Outstanding Bill Allocation
            </h6>
            <br>



            <div class="p-grid">

                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">New Reference</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>
                <div class="p-col-12 p-md-4"></div>
                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 30%;">On-Account</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 65%; height: 2vh;">
                    </div>
                </div>

            </div>

            <br>


            <p-table [value]="TblAllocation" [rows]="5" [scrollable]="true" scrollHeight="270px" scrollWidth="100%"
                [resizableColumns]="true" [responsive]="true" [reorderableColumns]="true" class="table-style">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 6rem;">Reference</th>
                        <th style="width: 6rem;">Due Date</th>
                        <th style="width: 6rem;">Bill Amount</th>
                        <th style="width: 6rem;">Amount Adjusted</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-rowData let-i="rowIndex">
                    <tr>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.reference">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.dueDate">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.billAmount">
                        </td>
                        <td pEditableColumn>
                            <input pInputText type="text"
                                style="padding: 0; width: 100%; background-color: transparent;"
                                [(ngModel)]="rowData.amountAdjusted">
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <br>
            <br>
            <div class="p-grid">
                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 40%;">Amount to be Adjusted</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 40%;">Amount Adjusted</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
                <div class="p-col-12 p-md-4" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 40%;">To be Adjusted</label>
                        <input type="text" pInputText style="background-color: #ffffff; width: 50%; height: 2vh;">
                    </div>
                </div>
            </div>

        </div>
    </div>

    <ng-template pTemplate="footer">
        <div style="display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 1rem;">
            <div class="p-field" style="display: flex; align-items: center; width: 100%; max-width: 40%;">
                <button pButton label="Search"></button>
                <input type="text" pInputText
                    style="background-color: #ffffff; width: 80%; height: 2rem; border: 1px solid;">
            </div>

            <div
                style="display: flex; justify-content: flex-end; width: 100%; max-width: 50%; flex-wrap: wrap; justify-content: flex-end;">
                <button pButton label="Adjust On FIFO" icon="pi pi-objects-column"></button>
                <button pButton label="Pick Amount"></button>
                <button pButton label="OK" icon="pi pi-check" (click)="this.invoiceAllocation = false"></button>
                <button pButton label="Cancel" icon="pi pi-times" (click)="this.invoiceAllocation = false"
                    class="p-button-secondary "></button>
            </div>
        </div>
    </ng-template>

</p-dialog>


<p-dialog [modal]="true" [(visible)]="showPrint" [closable]="true" [style]="{width: '50vw'}">
    <br>

    <div class="p-grid" style="background-color: #d1e2f1;font-size: 10px;">
        <div class="p-col-12" style="border: 1px solid #003366; border-radius: 5px;">
            <h6 style="
        background-color: #5c96d4;
        color: white;
        height: 4vh;
        align-items: center;
        display: flex;
        padding-left: 8px;
      ">
                Print Formats
            </h6>
            <br>

            <div class="p-grid">
                <div class="p-col-12 p-md-6" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 45%;">Use Spreadsheet Layout</label>
                        <input type="checkbox">
                    </div>
                </div>
            </div>

            <div class="p-grid">
                <div class="p-col-12 p-md-6" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 45%;">Print Layout</label>
                        <select style="background-color: #ffffff; width: 55%; height: 3vh;
                    border: 1px solid rgba(0, 0, 0, 0.38);
transition: background-color 0.2s, border-color 0.2s, color 0.2s, box-shadow 0.2s, background-size 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
border-radius: 4px;">
                            <option value="" disabled selected>Select Print Format</option>
                            <option value="salesInvoice">Sales Enquiry</option>
                            <option value="salesInvoice">Sales Quotation</option>
                            <option value="salesEnquiry">Sales Order</option>
                            <option value="salesProduct">Delivery Note</option>
                            <option value="directPurchase">Sales Invoice</option>
                            <option value="directPurchase">Sales Return</option>
                        </select>
                    </div>
                </div>
                <div class="p-col-12 p-md-6" style="padding: 0rem  0.5rem 0.5rem;text-align: center;">
                    <button pButton label="Preview" class="header-btn" style="min-width: 100px;"></button>
                </div>
            </div>
            <br>
            <div class="p-grid">
                <div class="p-col-12 p-md-6" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 45%;">Print Without Headers</label>
                        <input type="checkbox">
                    </div>
                </div>
                <div class="p-col-12 p-md-6" style="padding: 0rem  0.5rem 0.5rem;text-align: center;">
                    <!-- <button pButton label="Modify" class="header-btn" style="min-width: 100px;"></button> -->
                </div>
            </div>
            <br>
            <div class="p-grid">
                <div class="p-col-12 p-md-6" style="padding: 0rem 0rem 0.5rem 0.5rem;">
                    <div class="p-field">
                        <label style="display: inline-block; width: 45%;">Print Without Footers</label>
                        <input type="checkbox">
                    </div>
                </div>
                <div class="p-col-12 p-md-6" style="padding: 0rem  0.5rem 0.5rem;text-align: center;">
                    <!-- <button pButton label="Create" class="header-btn" style="min-width: 100px;"></button> -->
                </div>
            </div>

        </div>
    </div>

    <ng-template pTemplate="footer">
        <button pButton label="Help" icon="pi pi-question-circle"></button>
        <button pButton label="Print" icon="pi pi-print"></button>
        <button pButton label="OK" icon="pi pi-check"></button>
        <button pButton label="Cancel" icon="pi pi-times" (click)="this.showPrint = false"
            class="p-button-secondary "></button>
    </ng-template>

</p-dialog>



<p-dialog [modal]="true" [(visible)]="showLinking" [closable]="true" [style]="{width: '70vw'}">
    <br>

    <div class="p-grid"
        style="border: 1px solid #003366; border-radius: 5px;background-color: #d1e2f1;font-size: 10px;">
        <div class="p-col-12">
            <h6 style="
        background-color: #5c96d4;
        color: white;
        height: 4vh;
        align-items: center;
        display: flex;
        padding-left: 8px;
      ">
                Linking Details
            </h6>
        </div>



        <div class="input-panel p-d-flex p-flex-column p-px-3 p-mb-3">

            <!-- <div class="p-inputgroup" style="width: 100%; max-width: 400px; margin-bottom: 10px;">
        <span class="p-inputgroup-addon">
            <i class="pi pi-search"></i>
        </span>
        <input type="text" pInputText placeholder="Search..." [(ngModel)]="searchText" (input)="filterTable()" 
               style="width: 100%;" />
    </div>  -->

            <p-table #dt [value]="LinkingData" [(selection)]="selectedLinkingDataRows" dataKey="SysID"
                [paginator]="true" [rows]="5" [rowsPerPageOptions]="[5, 10, 20]" class="list-table">

                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 3rem; text-align: center;">
                            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                        </th>
                        <th style="width: 4rem;">SysID</th>
                        <th>Serial No.</th>
                        <th>Transaction No.</th>
                        <th>Product Code</th>
                        <th>Product Name</th>
                        <th>Quantity</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-rowData>
                    <tr [pSelectableRow]="rowData">
                        <td style="text-align: center;">
                            <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
                        </td>
                        <td style="text-align: center;">{{ rowData.SysID }}</td>
                        <td>{{ rowData.serialNo }}</td>
                        <td>{{ rowData.transactionNo }}</td>
                        <td>{{ rowData.productCode }}</td>
                        <td>{{ rowData.productName }}</td>
                        <td>{{ rowData.quantity }}</td>

                    </tr>
                </ng-template>

                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="4" style="text-align: center; padding: 1rem; font-size: 14px; color: #999;">
                            No Data available. Please check back later.
                        </td>
                    </tr>
                </ng-template>

            </p-table>

        </div>
    </div>
    <ng-template pTemplate="footer">
        <button pButton label="OK" (click)="updateLinkingSelectedRow()" icon="pi pi-check"></button>
        <button pButton label="Cancel" icon="pi pi-times" (click)="this.showLinking = false"
            class="p-button-secondary "></button>
    </ng-template>

</p-dialog>
<p-confirmDialog></p-confirmDialog>